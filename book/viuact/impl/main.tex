\chapter{Język ViuAct i jego kompilator -- implementacja}
\label{viuact_impl}
\label{jezyk_viuact_i_jego_kompilator}

Pierwszą częścią naszej pracy jest zaprojektowanie wysokopoziomowego języka programowania i opracowanie jego
implementacji. Z uwagi na to, że platforma uruchomieniowa, którą wykorzystujemy (czyli Viua VM) jest maszyną
wirtualną wykonującą programy w postaci \emph{bytecode} wybranym sposobem implementacji języka jest
kompilator - program tłumaczący kod źródłowy w jednym języku na kod źródłowy w innym języku przy jednoczesnym
zachowaniu zachowania programu. W przypadku naszej pracy językiem źródłowym jest język Viuact (dokładniej
opisany w rozdziale \ref{specyfikacja_jezyka_viuact}.~\nameref{specyfikacja_jezyka_viuact} na stronie
\pageref{specyfikacja_jezyka_viuact}), a językiem docelowym język assemblera Viua VM.

Materiałem teoretycznym przy pracy nad kompilatorem i językiem był \cite{PLP:1}.
Jedną z książek, które wywarły wpływ na zestaw instrukcji (ISA) Viua VM był \cite{RISCV}.
Pomocą w pracach nad systemem modułów był \cite{Linkers}.

Sama maszyna wirtualna nie tylko implementuje określone ISA, ale też dostarcza \emph{runtime} realizujący
zadania typowo związane z systemem operacyjnym takie jak zarządzanie czasem procesora, przydzielanie numerów
PID, czy nadzór na komunikacją między procesami -- w tym rejonie pomocą była \cite{OperatingSystems}.

Aktory w ViuAct (tak samo jak implementujące je procesy w Viua VM) komunikują się bezpośrednio.
Dla porównania, język Go (opisany w \cite{Golang}), który podobnie jak ViuAct kładzie duży nacisk na
współbieżność i równoległość do komunikacji między \emph{goroutines} (jego odmiana procesów) wykorzystuje
kanały -- używając ,,pośredników'' zamiast skomunikować procesy bezpośrednio.

\input{viuact/ps/architektura}

\input{viuact/ps}

\section{Testowanie}

Testy kompilatora.

\subsection{Zestaw przypadków testowych}

Jeden testowy program na każdą funkcjonalność języka.
Kilka większych testowych programów sprawdzających integrację języka, np. wielomodułowych, wykorzystujących
moduły obce.

\subsection{Wykonanie testów}

Opis tego jak wygląda uruchomienie testów, w jaki sposób został zbudowany framework, itp.

\subsection{Trudności w testowaniu}

Niedeterminizm wynikający z równoległego działania aktorów stwarza problemy w testach. Trzeba uciekać się do
"sztuczek", np. sortowanie wyników programu testowego.

\input{viuact/manual}
